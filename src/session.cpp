#include "session.h"

// This function generates random heartbeat intervals as the original data for the program
// There are 3 phases of generation, and the interval generated by this function
// will be closer and closer to each other
// @param:
// size: the output data size
vector<double>* Session::simulateHeartIntervals(int size) {
    vector<double>* heartIntervals = new vector<double>();
    srand(time(NULL));
    for (int i = 0; i < size; i++) {
        if (i < size/3) {
            heartIntervals->push_back(generateRandomDouble(0.6,1));
        }
        else if (i >= size/3 && i < size * 2 / 3) {
            heartIntervals->push_back(generateRandomDouble(0.7,0.9));
        }
        else {
            heartIntervals->push_back(generateRandomDouble(0.75,0.85));
        } 
    }
    return heartIntervals;
}

// This is used for generate random double for the simulateHeartIntervals(int size) function
double Session::generateRandomDouble(double min, double max) {
    double temp = (double)rand() / RAND_MAX;
    return min + temp * (max - min);
}